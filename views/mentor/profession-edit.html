<form name="formEdit" #formEdit="ngForm" novalidate>

    profession: {{profession|json}}
    <div class="row">
        <div class="col-lg-8">
            <div class="form-group" [class.has-error]="(title.dirty && !title.valid) || (errors && errors.title)">
                <label for="title">Title</label>
                <input #title="ngForm" class="form-control" id="title" name="title" type="text" required [(ngModel)]="profession.title"/>

                <div class="help-block"
                     *ngIf="(title.dirty && !title.valid) || (errors && errors.title)">
                    Required field
                </div>
            </div>
        </div>
    </div>

    <div class="form-group">
        <div class="controls">
            <label>Tags</label>
            <ng-select [multiple]="true" [tagging]="true" [taggingTokens]="[',','SPACE','ENTER']"
                       (data)="setTags($event)" [initData]="profession.tags"
                       [items]="tags" class="custom-ui-select-table">
            </ng-select>
        </div>
    </div>

    <div class="form-group">
        <div class="controls">
            <label>Levels</label>
            <a (click)="addLevel()">add</a>
            <ul>
                <li  *ngFor="let level of profession.levels; let i = index;">
                    <input required [ngModel]="level" (ngModelChange)="profession.levels[i] = $event" type="text" class="form-control" size="50">
                    <a (click)="removeLevel(i)">x</a>
                    <a [routerLink]="['MentorProfessionContent', {name:1, level: level}]" class="btn btn-primary">Content</a>
                </li>
            </ul>
        </div>
    </div>

    <button ng-disabled="!profession.title" (click)="saveItem()" class="btn btn-primary">
        <span *ngIf="!saveLoading">Save</span>
        <span *ngIf="saveLoading">Saving <span class="spinner"></span></span>
    </button>

    <a class="btn btn-default btn-cancel" [routerLink]="['MentorProfessions']">
        Cancel
    </a>
</form>